<!DOCTYPE html>
<html lang="en">
    <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lagotto 4.0 released</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Martin Fenner" />

    <!-- RDFa Metadata (in DublinCore) -->
    <meta property="dc:title" content="Lagotto 4.0 released" />
    <meta property="dc:creator" content="" />
    <meta name="citation_publication_date" content="2015-05-05T00:00:00+00:00"/>
    <meta property="dc:format" content="text/html" />
    <meta property="dc:language" content="en" />
    <meta property="dc:identifier" content="/blog/2015/05/05/lagotto-4.0-released/" />
    <meta property="dc:rights" content="CC-BY" />
    <meta property="dc:source" content="Lagotto" />
    <meta property="dc:subject" content="Scholarly Communication" />
    <meta property="dc:type" content="website" />

    <!-- Google Scholar Metadata -->
    <meta name="citation_author" content="Martin Fenner"/>
    <meta name="citation_publication_date" content="2015-05-05"/>
    <meta name="citation_title" content="Lagotto 4.0 released"/>
    <meta name="citation_journal_title" content="Lagotto"/>

    <link rel="alternate" type="application/rss+xml" title="Lagotto" href="/rss.xml" />
    <link rel="alternate" type="application/atom+xml" title="Lagotto" href="/atom.xml" />

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic' rel='stylesheet' type='text/css'>

    <!-- CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootstrap-theme.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/github.css">

    <!-- Javascript -->
    <script src="/js/d3.v3.min.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Lagotto</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/">Introduction</a></li>
            <li><a href="/value">Value</a></li>
            <li><a href="/metrics">Metrics</a></li>
            <li><a href="/research">Research</a></li>
            <li><a href="/conferences">Conferences</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Implementations <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/plos">Public Library of Science</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/docs/">Home</a></li>
            <li><a href="/docs/installation">Installation</a></li>
            <li><a href="/docs/setup">Setup</a></li>
            <li><a href="/docs/sources">Sources</a></li>
            <li><a href="/docs/api">API</a></li>
            <li><a href="/docs/rake">Rake</a></li>
            <li><a href="/docs/alerts">Alerts</a></li>
            <li><a href="/docs/faq">FAQ</a></li>
            <li><a href="/docs/releases">Releases</a></li>
            <li><a href="/docs/roadmap">Roadmap</a></li>
            <li><a href="/docs/contributors">Contributors</a></li>
          </ul>
        </li>
        <li><a href="/examples">Examples</a></li>
        <li><a href="/blog">Blog</a></li>
        <li><a href="/status">Status</a></li>
      </ul>
    </div>
  </div>
</nav>

    <div class="container">
      <div class="page-header">
        <h1>Lagotto 4.0 released</h1>
        <p class="subtitle">05 May 2015 by
          
<a href="http://orcid.org/0000-0003-1419-2405">Martin Fenner</a>
        </p>
      </div>

      <div class="content">
        <div class="row">
          <div class="col-md-9">
            
            <p><a href="https://github.com/lagotto/lagotto/releases/tag/v.4.0">Lagotto 4.0</a> was released on May 5, 2015 with the following changes:</p>

<ul>
<li>normalized responses from external sources to be stored in MySQL. CouchDB is no longer required for the core Lagotto functionality (<a href="https://github.com/lagotto/lagotto/issues/213">#213</a>)</li>
<li>show more CSL information in API and admin dashboard (<a href="https://github.com/lagotto/lagotto/issues/284">#284</a>)</li>
<li>started new v6 API (<a href="https://github.com/lagotto/lagotto/issues/287">#287</a>)</li>
<li>show related works (references and versions) in new v6 API and admin dashboard (<a href="https://github.com/lagotto/lagotto/issues/296">#296</a>)</li>
<li>added <code>ads</code> and <code>ads_fulltext</code> data sources. <code>ads</code> finds ArXiV preprints that became peer-reviewed papers, <code>ads_fulltext</code> allows fulltext search for all ArXiV preprints (<a href="https://github.com/lagotto/lagotto/issues/297">#297</a>)</li>
<li>import couchdb data into mysql for 4.0 upgrade (<a href="https://github.com/lagotto/lagotto/issues/301">#301</a>)</li>
</ul>

<h3 id="toc_0">Upgrading</h3>

<p>Starting with Lagotto 4.0 frontend assets are installed via <a href="https://www.npmjs.com/">NPM</a>Â and <a href="http://bower.io/">Bower</a>. This is done automatically when using Chef/Vagrant. When not using Chef/Vagarant please copy <code>frontend/node_modules</code>, <code>frontend/bower_components</code>, <code>frontend/package.json</code>, <code>frontend/bower.json</code> and <code>frontend/.bowerrc</code> into <code>shared</code> and run <code>npm install</code> (not <code>npm -g install</code>) from <code>shared/frontend</code>:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">cd /var/www/lagotto/shared/frontend
mkdir node_modules
mkdir bower_components
wget https://raw.githubusercontent.com/lagotto/lagotto/4-0-stable/frontend/package.json
wget https://raw.githubusercontent.com/lagotto/lagotto/4-0-stable/frontend/bower.json
wget https://raw.githubusercontent.com/lagotto/lagotto/4-0-stable/frontend/.bowerrc
npm install
</code></pre></div>
<p>CouchDB is no longer needed for core Lagotto functionality, but is still used to store responses from some of the sources (e.g. <code>F1000</code>).</p>

<p>Make sure to run the data migrations in addition to the database migrations. This happens automatically if using capistrano, otherwise run <code>rake data:migrate</code>.</p>

<p>After upgrading the code and running the database migrations, old monthly and daily data stored in CouchDB should be imported via:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">bundle exec rake couchdb:import
</code></pre></div>
<p>Starting with the new v6 API, API versions (currently defaulting to version 6) and authentication via API key (needed for admin functionality) are provided via the HTTP header, e.g. in curl:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">- H &quot;Accept: application/json; version=6&quot; -H &quot;Authorization: Token token=API_KEY&quot;
</code></pre></div>

  <h3>Tags</h3>
  <ul class="tag_box inline">
    <li><span class="glyphicon glyphicon-tags"></span></li>
    
    
  
    <li><a href="/tags/">releases <span>4</span></a></li>
  



  </ul>


            <!-- COinS metadata (for citation managers like Zotero etc), goes in body text -->
<span
  class="Z3988"
  title="ctx_ver=Z39.88-2004
  &amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc
  &amp;rfr_id=info%3Asid%2Focoins.info%3Agenerator
  &amp;rft.title=Lagotto 4.0 released
  &amp;rft.creator=
  &amp;rft.date=2015-05-05
  &amp;rft.language=EN
  &amp;rft.rights=CC0
  &amp;rft_id=http://lagotto.io/blog/2015/05/05/lagotto-4.0-released/">
</span>

            
              <hr>
              <div id="disqus_thread"></div>
<script type="text/javascript">
    
    var disqus_shortname = 'lagotto'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
            
            <hr>
            <footer class="footer" role="contentinfo">
  <iframe src="http://ghbtns.com/github-btn.html?user=lagotto&repo=lagotto&type=watch&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>

  <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=lagotto&repo=lagotto&type=fork&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>

  <p>Maintained by the core team with the help of our <a href="/docs/contributors">contributors</a>.<br/>
  Source code for <a href="https://github.com/lagotto/lagotto">Lagotto application</a> and <a href="https://github.com/lagotto/lagotto.github.io">this website</a> available on Github. <br/> Code licensed under <a href="https://github.com/lagotto/alm/blob/master/LICENSE.md">MIT</a>, documentation under <a href="http://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a>.</p>
</div>

          </div>
        </div>


      </div>
    </div> <!-- /container -->

    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', '']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  </body>
</html>