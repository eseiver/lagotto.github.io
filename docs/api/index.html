<!DOCTYPE html>
<html lang="en">
    <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Martin Fenner" />

    <!-- RDFa Metadata (in DublinCore) -->
    <meta property="dc:title" content="API" />
    <meta property="dc:creator" content="" />
    <meta name="citation_publication_date" content=""/>
    <meta property="dc:format" content="text/html" />
    <meta property="dc:language" content="en" />
    <meta property="dc:identifier" content="/docs/api/" />
    <meta property="dc:rights" content="CC-BY" />
    <meta property="dc:source" content="Lagotto" />
    <meta property="dc:subject" content="Scholarly Communication" />
    <meta property="dc:type" content="website" />

    <!-- Google Scholar Metadata -->
    <meta name="citation_author" content=""/>
    <meta name="citation_publication_date" content=""/>
    <meta name="citation_title" content="API"/>
    <meta name="citation_journal_title" content="Lagotto"/>

    <link rel="alternate" type="application/rss+xml" title="Lagotto" href="/rss.xml" />
    <link rel="alternate" type="application/atom+xml" title="Lagotto" href="/atom.xml" />

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic' rel='stylesheet' type='text/css'>

    <!-- CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootstrap-theme.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/github.css">

    <!-- Javascript -->
    <script src="/js/d3.v3.min.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Lagotto</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/">Introduction</a></li>
            <li><a href="/value">Value</a></li>
            <li><a href="/metrics">Metrics</a></li>
            <li><a href="/research">Research</a></li>
            <li><a href="/conferences">Conferences</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Implementations <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/plos">Public Library of Science</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/docs/">Home</a></li>
            <li><a href="/docs/installation">Installation</a></li>
            <li><a href="/docs/setup">Setup</a></li>
            <li><a href="/docs/sources">Sources</a></li>
            <li><a href="/docs/api">API</a></li>
            <li><a href="/docs/rake">Rake</a></li>
            <li><a href="/docs/alerts">Alerts</a></li>
            <li><a href="/docs/faq">FAQ</a></li>
            <li><a href="/docs/releases">Releases</a></li>
            <li><a href="/docs/roadmap">Roadmap</a></li>
            <li><a href="/docs/contributors">Contributors</a></li>
          </ul>
        </li>
        <li><a href="/examples">Examples</a></li>
        <li><a href="/blog">Blog</a></li>
        <li><a href="/status">Status</a></li>
      </ul>
    </div>
  </div>
</nav>

    <div class="container">
      <div class="page-header">
        <h1>API</h1>
        <p class="subtitle">
        </p>
      </div>

      <div class="content">
        <div class="row">
          <div class="col-md-9">
            
            <h2 id="toc_0">Basic Information</h2>

<ul>
<li>a live version of the API (using <a href="http://swagger.io/">Swagger</a>) is <a href="/api">here</a></li>
<li>version 5 of the API was released April 24, 2014 (ALM 2.14).</li>
<li>version 6 of the API was released April, 2015 (Lagotto 4.0).</li>
</ul>

<h3 id="toc_1">Base URL</h3>

<ul>
<li>API calls start with <code>/api/</code>. API versioning is done via the request header, e.g. <code>Accept: application/json; version=6</code>, and currently defaults to <code>version=6</code>.</li>
</ul>

<h3 id="toc_2">Supported Media Types</h3>

<ul>
<li>application/json</li>
</ul>

<p>The default media type is JSON. The media type is set in the header, e.g. &quot;Accept: application/json&quot;, but defaults to this format anyway. Media type negotiation via file extension (e.g. &quot;.json&quot;) is not supported. <code>JSONP</code> and <code>CORS</code> are supported.</p>

<h3 id="toc_3">API Key</h3>

<p>Almost all information regarding works (with the exception of sources that don&#39;t allow redistribution of data) is available without API keys since the Lagotto 3.12.7 release (January 9, 2015). An API key is required to add/update works, and to access some of the internal data of the application. A key can be obtained by registering as API user with the ALM application and this shouldn&#39;t take more than a few minutes. By default the ALM application uses <a href="http://www.mozilla.org/en-US/persona/">Mozilla Persona</a>, but it can also be configured to use other services usch as OAuth and CAS. For the PLOS ALM application you need to sign in with your <a href="http://register.plos.org/ambra-registration/register.action">PLOS account</a>.</p>

<p>For the v5 API the API key shoould be part of the URL in the format <code>?api_key=API_KEY</code>. The v6 API requires the API key in the header in the format <code>Authorization: Token token=API_KEY</code>.</p>

<h3 id="toc_4">Meta</h3>

<p>Every API response starts with a <code>meta</code> object that starts with basic information such as <code>message-type</code> and number of results (<code>total</code>).</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&quot;meta&quot;: {
  &quot;status&quot;: &quot;ok&quot;,
  &quot;message-type&quot;: &quot;work-list&quot;,
  &quot;message-version&quot;: &quot;6.0.0&quot;,
  &quot;total&quot;: 1077,
  &quot;total_pages&quot;: 2,
  &quot;page&quot;: 1
}
</code></pre></div>
<h3 id="toc_5">Query for one or several works</h3>

<p>Specify one or more works by a comma-separated list of pids in the <code>ids</code> parameter. These DOIs have to be URL-escaped, e.g. <code>%2F</code> for <code>/</code>:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">/api/v5/articles?ids<span class="o">=</span>doi:10.1371%2Fjournal.pone.0036240
/api/v5/articles?ids<span class="o">=</span>doi:10.1371%2Fjournal.pone.0036240,doi:10.1371%2Fjournal.pbio.0020413
</code></pre></div>
<p>Queries for up to 50 works at a time are supported. With many ids, in particular DOIs or URLs, the size limit of the query URL might be reached. It is therefore advisable to put the ids into the body of a POST, and include an <code>X-HTTP-Method-Override: GET</code> header:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">curl -X POST -d <span class="s2">&quot;ids=10.1371%2Fjournal.pone.0036240,10.1371%2Fjournal.pbio.0020413&quot;</span> -H <span class="s2">&quot;Authorization: Token token=API_KEY&quot;</span> -H <span class="s2">&quot;X-HTTP-Method-Override: GET&quot;</span> <span class="s2">&quot;http://alm.plos.org/api/works&quot;</span>
</code></pre></div>
<h3 id="toc_6">Events</h3>

<p>The events for every source are returned as total number, and separated in categories, e.g. <code>html</code> and <code>pdf</code> views for usage data, <code>readers</code> for bookmarking services, and <code>likes</code> and <code>comments</code> for social media:</p>

<ul>
<li><p><strong>CiteULike</strong>: readers</p></li>
<li><p><strong>Mendeley</strong>: readers</p></li>
<li><p><strong>Twitter</strong>: comments</p></li>
<li><p><strong>Facebook</strong>: likes, comments</p></li>
<li><p><strong>Reddit</strong>: likes, comments</p></li>
<li><p><strong>Counter, PubMed Central</strong>: html, pdf</p></li>
</ul>

<p>Some events can only be obtained by substracting from <code>total</code>, e.g. <code>Counter</code> xml downloads: <code>total</code> - (<code>html</code> + <code>pdf</code>).</p>

<h3 id="toc_7">Search</h3>

<p>Search is not supported by the API, users have to provide specific identifiers or retrieve batches of 50 documents, sorted by descending date or source event count.</p>

<h3 id="toc_8">Date and Time Format</h3>

<p>All dates and times with the exception of publication dates are in ISO 8601 format, e.g. <code>2003-10-13T07:00:00Z</code>. <code>date-parts</code> uses the Citeproc convention to allow incomplete dates (e.g. year only):</p>
<div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;date-parts&quot;</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">[</span>
      <span class="mi">2008</span><span class="p">,</span>
      <span class="mi">10</span><span class="p">,</span>
      <span class="mi">31</span>
    <span class="p">]</span>
</code></pre></div>
<p><code>date-parts</code> is a nested array of year, month, day, with only the year being required.</p>

<h2 id="toc_9">Additional Parameters</h2>

<h3 id="toc_10">type=doi|pmid|pmcid|arxiv|scp|wos|ark|url</h3>

<p>The API supports queries for DOI, PubMed ID, PubMed Central ID, ArXiV ID, Scopus ID, Web of Science ID, ark, and publisher URL. The pid is used if no type is given in the query. The following queries are all for the same work:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">/api/works?ids<span class="o">=</span>doi:10.1371%2Fjournal.pmed.1001361
/api/works?ids<span class="o">=</span>10.1371%2Fjournal.pmed.1001361<span class="p">&amp;</span><span class="nb">type</span><span class="o">=</span>doi
/api/works?ids<span class="o">=</span>23300388<span class="p">&amp;</span><span class="nb">type</span><span class="o">=</span>pmid
/api/works?ids<span class="o">=</span>PMC3531501<span class="p">&amp;</span><span class="nb">type</span><span class="o">=</span>pmcid
/api/works?ids<span class="o">=</span>84871667565<span class="p">&amp;</span><span class="nb">type</span><span class="o">=</span>scp
/api/works?ids<span class="o">=</span>000312934200011<span class="p">&amp;</span><span class="nb">type</span><span class="o">=</span>wos
/api/works?ids<span class="o">=</span>http://www.plosmedicine.org/article/info:doi/10.1371/journal.pmed.1001361<span class="p">&amp;</span><span class="nb">type</span><span class="o">=</span>url
</code></pre></div>
<h3 id="toc_11">publisher_id=x</h3>

<p>Only show works from a given publisher, using the publisher CrossRef ID. The response format is the same as the default response.</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">/api/works?publisher_id<span class="o">=</span>340
</code></pre></div>
<h3 id="toc_12">sort=x</h3>

<p>Results are sorted by descending event count when given the source name, e.g. <code>&amp;sort=wikipedia</code>. Otherwise (the default) results are sorted by descending publication date. When using <code>&amp;source=x</code>, we can only sort by publication date or that source, not a different source.</p>

<h3 id="toc_13">page|per_page</h3>

<p>Results of the v6 API are paged with 1000 results per page. Use <code>per_page</code> to pick a smaller number (0-1000) of results per page, and use <code>page</code> to page through the results.</p>

<h2 id="toc_14">Example Responses</h2>

<h4 id="toc_15">/api/works/</h4>
<div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message-type&quot;</span><span class="p">:</span> <span class="s2">&quot;work-list&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message-version&quot;</span><span class="p">:</span> <span class="s2">&quot;6.0.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1077</span><span class="p">,</span>
    <span class="nt">&quot;total_pages&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nt">&quot;page&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="nt">&quot;works&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;http://doi.org/10.1371/journal.pgen.1003182&quot;</span><span class="p">,</span>
      <span class="nt">&quot;publisher_id&quot;</span><span class="p">:</span> <span class="mi">340</span><span class="p">,</span>
      <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Alternative Oxidase Expression in the Mouse Enables Bypassing Cytochrome &lt;i&gt;c&lt;/i&gt; Oxidase Blockade and Limits Mitochondrial ROS Overproduction&quot;</span><span class="p">,</span>
      <span class="nt">&quot;issued&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;date-parts&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">[</span>
            <span class="mi">2013</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="mi">3</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&quot;container-title&quot;</span><span class="p">:</span> <span class="s2">&quot;PLOS Genetics&quot;</span><span class="p">,</span>
      <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
      <span class="nt">&quot;page&quot;</span><span class="p">:</span> <span class="s2">&quot;e1003182&quot;</span><span class="p">,</span>
      <span class="nt">&quot;issue&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="nt">&quot;DOI&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1371/journal.pgen.1003182&quot;</span><span class="p">,</span>
      <span class="nt">&quot;events&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;crossref&quot;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
        <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">6702</span>
      <span class="p">},</span>
      <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-04-16T06:14:07Z&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;http://doi.org/10.1371/journal.pgen.1003145&quot;</span><span class="p">,</span>
      <span class="nt">&quot;publisher_id&quot;</span><span class="p">:</span> <span class="mi">340</span><span class="p">,</span>
      <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;The Telomere Capping Complex CST Has an Unusual Stoichiometry, Makes Multipartite Interaction with G-Tails, and Unfolds Higher-Order G-Tail Structures&quot;</span><span class="p">,</span>
      <span class="nt">&quot;issued&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;date-parts&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">[</span>
            <span class="mi">2013</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="mi">3</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&quot;container-title&quot;</span><span class="p">:</span> <span class="s2">&quot;PLOS Genetics&quot;</span><span class="p">,</span>
      <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
      <span class="nt">&quot;page&quot;</span><span class="p">:</span> <span class="s2">&quot;e1003145&quot;</span><span class="p">,</span>
      <span class="nt">&quot;issue&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="nt">&quot;DOI&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1371/journal.pgen.1003145&quot;</span><span class="p">,</span>
      <span class="nt">&quot;events&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;crossref&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">5282</span>
      <span class="p">},</span>
      <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-04-12T08:19:11Z&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;http://doi.org/10.1371/journal.pgen.1003147&quot;</span><span class="p">,</span>
      <span class="nt">&quot;publisher_id&quot;</span><span class="p">:</span> <span class="mi">340</span><span class="p">,</span>
      <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;A Genome-Wide Integrative Genomic Study Localizes Genetic Factors Influencing Antibodies against Epstein-Barr Virus Nuclear Antigen 1 (EBNA-1)&quot;</span><span class="p">,</span>
      <span class="nt">&quot;issued&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;date-parts&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">[</span>
            <span class="mi">2013</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="mi">10</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&quot;container-title&quot;</span><span class="p">:</span> <span class="s2">&quot;PLOS Genetics&quot;</span><span class="p">,</span>
      <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
      <span class="nt">&quot;page&quot;</span><span class="p">:</span> <span class="s2">&quot;e1003147&quot;</span><span class="p">,</span>
      <span class="nt">&quot;issue&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="nt">&quot;DOI&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1371/journal.pgen.1003147&quot;</span><span class="p">,</span>
      <span class="nt">&quot;PMID&quot;</span><span class="p">:</span> <span class="s2">&quot;23326239&quot;</span><span class="p">,</span>
      <span class="nt">&quot;PMCID&quot;</span><span class="p">:</span> <span class="s2">&quot;3542101&quot;</span><span class="p">,</span>
      <span class="nt">&quot;events&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;europe_pmc&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="nt">&quot;crossref&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">6355</span>
      <span class="p">},</span>
      <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-04-12T08:01:33Z&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;http://doi.org/10.1371/journal.pgen.1003144&quot;</span><span class="p">,</span>
      <span class="nt">&quot;publisher_id&quot;</span><span class="p">:</span> <span class="mi">340</span><span class="p">,</span>
      <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Starvation, Together with the SOS Response, Mediates High Biofilm-Specific Tolerance to the Fluoroquinolone Ofloxacin&quot;</span><span class="p">,</span>
      <span class="nt">&quot;issued&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;date-parts&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">[</span>
            <span class="mi">2013</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="mi">3</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&quot;container-title&quot;</span><span class="p">:</span> <span class="s2">&quot;PLOS Genetics&quot;</span><span class="p">,</span>
      <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
      <span class="nt">&quot;page&quot;</span><span class="p">:</span> <span class="s2">&quot;e1003144&quot;</span><span class="p">,</span>
      <span class="nt">&quot;issue&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="nt">&quot;DOI&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1371/journal.pgen.1003144&quot;</span><span class="p">,</span>
      <span class="nt">&quot;events&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;crossref&quot;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span>
        <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">6722</span>
      <span class="p">},</span>
      <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-04-12T08:19:12Z&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="toc_16">/api/works/doi:10.1371/journal.pgen.1003182</h4>
<div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message-type&quot;</span><span class="p">:</span> <span class="s2">&quot;work&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message-version&quot;</span><span class="p">:</span> <span class="s2">&quot;6.0.0&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;work&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;http://doi.org/10.1371/journal.pgen.1003182&quot;</span><span class="p">,</span>
    <span class="nt">&quot;publisher_id&quot;</span><span class="p">:</span> <span class="mi">340</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Alternative Oxidase Expression in the Mouse Enables Bypassing Cytochrome &lt;i&gt;c&lt;/i&gt; Oxidase Blockade and Limits Mitochondrial ROS Overproduction&quot;</span><span class="p">,</span>
    <span class="nt">&quot;issued&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;date-parts&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
          <span class="mi">2013</span><span class="p">,</span>
          <span class="mi">1</span><span class="p">,</span>
          <span class="mi">3</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;container-title&quot;</span><span class="p">:</span> <span class="s2">&quot;PLOS Genetics&quot;</span><span class="p">,</span>
    <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="nt">&quot;page&quot;</span><span class="p">:</span> <span class="s2">&quot;e1003182&quot;</span><span class="p">,</span>
    <span class="nt">&quot;issue&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;DOI&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1371/journal.pgen.1003182&quot;</span><span class="p">,</span>
    <span class="nt">&quot;events&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;crossref&quot;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
      <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">6702</span>
    <span class="p">},</span>
    <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-04-16T06:14:07Z&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="toc_17">Create/Update/Delete</h2>

<p>These actions are limited to users with admin privileges, authenticated with the API key via HTTP header. The API supports the following REST actions:</p>

<table width=100% border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<th valign="top" width=30%>HTTP Verb</td>
<th valign="top" width=40%>Path</td>
<th valign="top" width=30%>Action</td>
</tr>
<tr>
<td valign="top" width=30%>GET</td>
<td valign="top" width=40%>/api/works</td>
<td valign="top" width=30%>index</td>
</tr>
<tr>
<td valign="top" width=30%>POST</td>
<td valign="top" width=40%>/api/works</td>
<td valign="top" width=30%>create</td>
</tr>
<tr>
<td valign="top" width=30%>GET</td>
<td valign="top" width=40%>/api/works/info:doi/DOI</td>
<td valign="top" width=30%>show</td>
</tr>
<tr>
<td valign="top" width=30%>PUT</td>
<td valign="top" width=40%>/api/works/info:doi/DOI</td>
<td valign="top" width=30%>update</td>
</tr>
<tr>
<td valign="top" width=30%>DELETE</td>
<td valign="top" width=40%>/api/works/info:doi/DOI</td>
<td valign="top" width=30%>delete</td>
</tr>
</tbody>
</table>

<h3 id="toc_18">Create work</h3>

<p>A sample curl API call to create a new work would look like this:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">curl -X POST -H <span class="s2">&quot;Content-Type: application/json&quot;</span> -H <span class="s2">&quot;Authentication: Token token=API_KEY&quot;</span> -d <span class="s1">&#39;{&quot;work&quot;:{&quot;doi&quot;:&quot;10.1371/journal.pone.0036790&quot;,&quot;year&quot;:2012,&quot;month&quot;:5,&quot;day&quot;:15,&quot;title&quot;:&quot;Test title&quot;}}&#39;</span> http://HOST/api/works
</code></pre></div>
<p>When a work has been created successfully, the server reponds with <code>Status 201 Created</code> and the following JSON (the <code>data</code> object will include all work attributes):</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh"><span class="nv">$ </span>curl -i -X POST -H <span class="s2">&quot;Content-Type: application/json&quot;</span> -H <span class="s2">&quot;Authentication: Token token=API_KEY&quot;</span> -d <span class="s1">&#39;{&quot;work&quot;:{&quot;doi&quot;:&quot;10.7554/eLife.09002&quot;,&quot;year&quot;:2013,&quot;month&quot;:5,&quot;day&quot;:21,&quot;title&quot;:&quot;Structure of a pore-blocking toxin in complex with a eukaryotic voltage-dependent K+ channel&quot;}}&#39;</span> http://HOST/api/works
HTTP/1.1 201 Created
Status: 201 Created
Content-Type: application/json<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span>utf-8

<span class="o">{</span><span class="s2">&quot;success&quot;</span>:<span class="s2">&quot;Work created.&quot;</span>,<span class="s2">&quot;error&quot;</span>:null,<span class="s2">&quot;work&quot;</span>:<span class="o">{</span><span class="s2">&quot;doi&quot;</span>:<span class="s2">&quot;10.7554/eLife.09002&quot;</span>,<span class="s2">&quot;title&quot;</span>:<span class="s2">&quot;Structure of a pore-blocking toxin in complex with a eukaryotic voltage-dependent K+ channel&quot;</span>,<span class="s2">&quot;canonical_url&quot;</span>:null,<span class="s2">&quot;mendeley_uuid&quot;</span>:null,<span class="s2">&quot;pmid&quot;</span>:null,<span class="s2">&quot;pmcid&quot;</span>:null,<span class="s2">&quot;views&quot;</span>:0,<span class="s2">&quot;shares&quot;</span>:0,<span class="s2">&quot;bookmarks&quot;</span>:0,<span class="s2">&quot;citations&quot;</span>:0,<span class="s2">&quot;sources&quot;</span>:<span class="o">[{</span><span class="s2">&quot;name&quot;</span>:<span class="s2">&quot;pmc&quot;</span>,<span class="s2">&quot;display_name&quot;</span>:<span class="s2">&quot;PubMed Central Usage Stats&quot;</span>,<span class="s2">&quot;events_url&quot;</span>:null,<span class="s2">&quot;metrics&quot;</span>:<span class="o">[]}</span>,<span class="o">{</span><span class="s2">&quot;name&quot;</span>:<span class="s2">&quot;copernicus&quot;</span>,
 ... more ...
</code></pre></div>
<p>When a work with the specified DOI already exists, the server returns HTTP 400 error with a JSON body indicating the work exists:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh"><span class="nv">$ </span>curl -i -X POST -H <span class="s2">&quot;Content-Type: aapplication/json&quot;</span> -H <span class="s2">&quot;Authentication: Token token=API_KEY&quot;</span> -d <span class="s1">&#39;{&quot;work&quot;:{&quot;doi&quot;:&quot;10.7554/eLife.09002&quot;,&quot;year&quot;:2013,&quot;month&quot;:5,&quot;day&quot;:21,&quot;title&quot;:&quot;Structure of a pore-blocking toxin in complex with a eukaryotic voltage-dependent K+ channel&quot;}}&#39;</span> http://HOST/api/works
HTTP/1.1 400 Bad Request
Status: 400 Bad Request
Content-Type: application/json<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span>utf-8

<span class="o">{</span><span class="s2">&quot;total&quot;</span>:0,<span class="s2">&quot;total_pages&quot;</span>:0,<span class="s2">&quot;page&quot;</span>:0,<span class="s2">&quot;success&quot;</span>:null,<span class="s2">&quot;error&quot;</span>:<span class="o">{</span><span class="s2">&quot;doi&quot;</span>:<span class="o">[</span><span class="s2">&quot;has already been taken&quot;</span><span class="o">]}</span>,
 <span class="s2">&quot;data&quot;</span>:<span class="o">{</span><span class="s2">&quot;doi&quot;</span>:<span class="s2">&quot;10.7554/eLife.99002&quot;</span>,<span class="s2">&quot;title&quot;</span>:<span class="s2">&quot;Structure of a pore-blocking toxin in complex with a eukaryotic</span>
<span class="s2"> voltage-dependent K+ channel&quot;</span>,<span class="s2">&quot;canonical_url&quot;</span>:null,<span class="s2">&quot;mendeley_uuid&quot;</span>:null,<span class="s2">&quot;pmid&quot;</span>:null,<span class="s2">&quot;pmcid&quot;</span>:null,<span class="s2">&quot;views&quot;</span>:0,
 <span class="s2">&quot;shares&quot;</span>:0,<span class="s2">&quot;bookmarks&quot;</span>:0,<span class="s2">&quot;citations&quot;</span>:0,<span class="s2">&quot;sources&quot;</span>:<span class="o">[]}}</span>
</code></pre></div>
<p>In order to be accepted the following conditions must hold:</p>

<ul>
<li><p>The JSON must be valid, this means that string variables such as the DOI must be quoted in the request.
The day, month and year are integers and can be left unquoted.</p></li>
<li><p>The publication date can&#39;t be in the future (as understood by the server&#39;s date).</p></li>
<li><p>The API key must be valid, and for a user with role admin.</p></li>
</ul>

<h3 id="toc_19">Update work</h3>

<p>A sample curl API call to update a work would look like this:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">curl -X POST -H <span class="s2">&quot;Content-Type: application/json&quot;</span> -H <span class="s2">&quot;Authentication: Token token=API_KEY&quot;</span> -d <span class="s1">&#39;{&quot;work&quot;:{&quot;pmid&quot;:&quot;22615813&quot;}}&#39;</span> http://HOST/api/works/doi:10.1371/journal.pone.0036790
</code></pre></div>
<p>When a work has been updated successfully, the server reponds with <code>Status 200 Ok</code> and the following JSON (the <code>data</code> object will include all work attributes):</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh"><span class="o">{</span><span class="s2">&quot;success&quot;</span>:<span class="s2">&quot;Work updated.&quot;</span>,<span class="s2">&quot;error&quot;</span>:null,<span class="s2">&quot;data&quot;</span>:<span class="o">{</span> ... <span class="o">}</span>
</code></pre></div>
<h3 id="toc_20">Delete work</h3>

<p>A sample curl API call to delete a work would look like this:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">curl -X POST -H <span class="s2">&quot;Content-Type: application/json&quot;</span> -H <span class="s2">&quot;Authentication: Token token=API_KEY&quot;</span> -d <span class="s1">&#39;{&quot;work&quot;:{&quot;pmid&quot;:&quot;22615813&quot;}}&#39;</span> http://HOST/api/works/doi:10.1371/journal.pone.0036790
</code></pre></div>
<p>When a work has been deleted successfully, the server reponds with <code>Status 200 Ok</code> and the following JSON (the <code>data</code> object will include all work attributes):</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh"><span class="o">{</span><span class="s2">&quot;success&quot;</span>:<span class="s2">&quot;Work deleted.&quot;</span>,<span class="s2">&quot;error&quot;</span>:null,<span class="s2">&quot;data&quot;</span>:<span class="o">{</span> ... <span class="o">}</span>
</code></pre></div>
<h3 id="toc_21">Get alerts</h3>

<p>The alerts API endpoint is only available to authenticated admin users. The same query parameters as in the admin web interface are supported:</p>

<ul>
<li>source</li>
<li>class_name</li>
<li>level</li>
<li>query (but using <code>q</code>)</li>
</ul>

<p>By default the API returns all alerts, add <code>&amp;unresolved=1</code> to only retrieve unresolved alerts, as in the admin web interface. An example API response would be:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh"><span class="o">{</span>
  <span class="s2">&quot;meta&quot;</span>: <span class="o">{</span>
    <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;ok&quot;</span>,
    <span class="s2">&quot;message-type&quot;</span>: <span class="s2">&quot;alert-list&quot;</span>,
    <span class="s2">&quot;message-version&quot;</span>: <span class="s2">&quot;6.0.0&quot;</span>,
    <span class="s2">&quot;total&quot;</span>: 152,
    <span class="s2">&quot;total_pages&quot;</span>: 4,
    <span class="s2">&quot;page&quot;</span>: 1
  <span class="o">}</span>,
  <span class="s2">&quot;alerts&quot;</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;39586c14-8d3e-4f83-9636-d36ca2d6b958&quot;</span>,
      <span class="s2">&quot;level&quot;</span>: <span class="s2">&quot;FATAL&quot;</span>,
      <span class="s2">&quot;class_name&quot;</span>: <span class="s2">&quot;StandardError&quot;</span>,
      <span class="s2">&quot;message&quot;</span>: <span class="s2">&quot;No Sidekiq process running, Sidekiq process started at 2015-04-16T06:24:14Z.&quot;</span>,
      <span class="s2">&quot;hostname&quot;</span>: <span class="s2">&quot;lagotto-4-0-unstable.local&quot;</span>,
      <span class="s2">&quot;unresolved&quot;</span>: <span class="nb">true</span>,
      <span class="s2">&quot;timestamp&quot;</span>: <span class="s2">&quot;2015-04-16T06:24:15Z&quot;</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;018a1fb6-60e3-4b63-b84f-f33204163917&quot;</span>,
      <span class="s2">&quot;level&quot;</span>: <span class="s2">&quot;ERROR&quot;</span>,
      <span class="s2">&quot;class_name&quot;</span>: <span class="s2">&quot;NameError&quot;</span>,
      <span class="s2">&quot;message&quot;</span>: <span class="s2">&quot;uninitialized constant DeleteEventJob::Relation&quot;</span>,
      <span class="s2">&quot;hostname&quot;</span>: <span class="s2">&quot;lagotto-4-0-unstable.local&quot;</span>,
      <span class="s2">&quot;unresolved&quot;</span>: <span class="nb">true</span>,
      <span class="s2">&quot;timestamp&quot;</span>: <span class="s2">&quot;2015-04-16T06:21:51Z&quot;</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;ecccba25-4c11-4396-b1d1-5534ca60c27d&quot;</span>,
      <span class="s2">&quot;level&quot;</span>: <span class="s2">&quot;FATAL&quot;</span>,
      <span class="s2">&quot;class_name&quot;</span>: <span class="s2">&quot;StandardError&quot;</span>,
      <span class="s2">&quot;message&quot;</span>: <span class="s2">&quot;No Sidekiq process running, Sidekiq process started at 2015-04-16T06:14:24Z.&quot;</span>,
      <span class="s2">&quot;hostname&quot;</span>: <span class="s2">&quot;lagotto-4-0-unstable.local&quot;</span>,
      <span class="s2">&quot;unresolved&quot;</span>: <span class="nb">true</span>,
      <span class="s2">&quot;timestamp&quot;</span>: <span class="s2">&quot;2015-04-16T06:14:24Z&quot;</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;12b40b31-e347-4ec7-ac26-545844be872a&quot;</span>,
      <span class="s2">&quot;level&quot;</span>: <span class="s2">&quot;ERROR&quot;</span>,
      <span class="s2">&quot;class_name&quot;</span>: <span class="s2">&quot;NoMethodError&quot;</span>,
      <span class="s2">&quot;message&quot;</span>: <span class="s2">&quot;undefined method `DOI&#39; for #&lt;Work:0x00000007f00008&gt;&quot;</span>,
      <span class="s2">&quot;status&quot;</span>: 422,
      <span class="s2">&quot;hostname&quot;</span>: <span class="s2">&quot;lagotto-4-0-unstable.local&quot;</span>,
      <span class="s2">&quot;unresolved&quot;</span>: <span class="nb">false</span>,
      <span class="s2">&quot;timestamp&quot;</span>: <span class="s2">&quot;2015-04-16T05:01:30Z&quot;</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>


            <!-- COinS metadata (for citation managers like Zotero etc), goes in body text -->
<span
  class="Z3988"
  title="ctx_ver=Z39.88-2004
  &amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc
  &amp;rfr_id=info%3Asid%2Focoins.info%3Agenerator
  &amp;rft.title=API
  &amp;rft.creator=
  &amp;rft.date=
  &amp;rft.language=EN
  &amp;rft.rights=CC0
  &amp;rft_id=http://lagotto.io/docs/api/">
</span>

            
            <hr>
            <footer class="footer" role="contentinfo">
  <iframe src="http://ghbtns.com/github-btn.html?user=lagotto&repo=lagotto&type=watch&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>

  <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=lagotto&repo=lagotto&type=fork&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>

  <p>Maintained by the core team with the help of our <a href="/docs/contributors">contributors</a>.<br/>
  Source code for <a href="https://github.com/lagotto/lagotto">Lagotto application</a> and <a href="https://github.com/lagotto/lagotto.github.io">this website</a> available on Github. <br/> Code licensed under <a href="https://github.com/lagotto/alm/blob/master/LICENSE.md">MIT</a>, documentation under <a href="http://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a>.</p>
</div>

          </div>
        </div>


      </div>
    </div> <!-- /container -->

    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', '']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  </body>
</html>