<!DOCTYPE html>
<html lang="en">
    <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setup</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Martin Fenner" />

    <!-- RDFa Metadata (in DublinCore) -->
    <meta property="dc:title" content="Setup" />
    <meta property="dc:creator" content="" />
    <meta name="citation_publication_date" content=""/>
    <meta property="dc:format" content="text/html" />
    <meta property="dc:language" content="en" />
    <meta property="dc:identifier" content="/docs/setup/" />
    <meta property="dc:rights" content="CC-BY" />
    <meta property="dc:source" content="Lagotto" />
    <meta property="dc:subject" content="Scholarly Communication" />
    <meta property="dc:type" content="website" />

    <!-- Google Scholar Metadata -->
    <meta name="citation_author" content=""/>
    <meta name="citation_publication_date" content=""/>
    <meta name="citation_title" content="Setup"/>
    <meta name="citation_journal_title" content="Lagotto"/>

    <link rel="alternate" type="application/rss+xml" title="Lagotto" href="/rss.xml" />
    <link rel="alternate" type="application/atom+xml" title="Lagotto" href="/atom.xml" />

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic' rel='stylesheet' type='text/css'>

    <!-- CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootstrap-theme.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/github.css">

    <!-- Javascript -->
    <script src="/js/d3.v3.min.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Lagotto</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/">Introduction</a></li>
            <li><a href="/value">Value</a></li>
            <li><a href="/metrics">Metrics</a></li>
            <li><a href="/research">Research</a></li>
            <li><a href="/conferences">Conferences</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Implementations <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/plos">Public Library of Science</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/docs/">Home</a></li>
            <li><a href="/docs/installation">Installation</a></li>
            <li><a href="/docs/setup">Setup</a></li>
            <li><a href="/docs/sources">Sources</a></li>
            <li><a href="/docs/api">API</a></li>
            <li><a href="/docs/rake">Rake</a></li>
            <li><a href="/docs/alerts">Alerts</a></li>
            <li><a href="/docs/faq">FAQ</a></li>
            <li><a href="/docs/releases">Releases</a></li>
            <li><a href="/docs/roadmap">Roadmap</a></li>
            <li><a href="/docs/contributors">Contributors</a></li>
          </ul>
        </li>
        <li><a href="/examples">Examples</a></li>
        <li><a href="/blog">Blog</a></li>
        <li><a href="/status">Status</a></li>
      </ul>
    </div>
  </div>
</nav>

    <div class="container">
      <div class="page-header">
        <h1>Setup</h1>
        <p class="subtitle">
        </p>
      </div>

      <div class="content">
        <div class="row">
          <div class="col-md-9">
            
            <h2 id="toc_0">Adding Users</h2>

<p>Lagotto supports the following user roles:</p>

<ul>
<li>API user - only API key</li>
<li>staff - read-only access to admin area</li>
<li>admin - full access to admin area</li>
</ul>

<p>Lagotto supports the following forms of authentication:</p>

<ul>
<li>username/password (<a href="/users/sign_in">Login</a>) for admin and staff users</li>
<li>authentication with <a href="http://www.mozilla.org/en-US/persona/">Mozilla Persona</a> for all user roles</li>
<li>authentication with <a href="http://www.orcid.org/">ORCID</a> for all user roles</li>
<li>authentication with <a href="https://developer.github.com/guides/basics-of-authentication/">Github</a> for all user roles</li>
<li>authentication with CAS for all user roles (currently PLOS only)</li>
</ul>

<p>Only one authentication method can ab enabled at a time. The first user created in the system automatically has an admin role, and this user can be created with any of the authentication methods listed above. From then on all user accounts are created with an API user role, and users have to create their own account using third-party authentication with Persona (or CAS). Admin users can change the user role after an account has been created, but can&#39;t create user accounts</p>

<p>Third-party authentication is configured in <code>.env</code>, using the <code>OMNIAUTH</code> variable - by default authentication via username/password and Persona is enabled. Configuration settings for ORCID, CAS and Persona are also provided via ENV variables.</p>

<p>Users automatically obtain an API key, and they can sign up to the monthly report in CSV format. Admin users can sign up for additional reports (error report, status report, disabled source report).</p>

<h2 id="toc_1">Configuring Sources</h2>

<p>Sources have to be installed and activated through the web interface <code>Sources -&gt; Installation</code>:</p>

<p><img src="/images/installation.png" alt="Installation"></p>

<p>All sources can be installed, but some sources require additional configuration settings such as API keys before they can be activated. The <a href="sources">documentation for sources</a> contains information about how to obtain API keys and other required source-specific settings.</p>

<p>The following addiotional configuration options are available via the web interface:</p>

<ul>
<li>whether the source is automatically queueing jobs and not running via cron job (default true)</li>
<li>whether the results can be shared via the API (default true)</li>
<li>staleness: update interval depending on work publication date (default daily the first 31 days, then 4 times a month up until one year, then monthly)</li>
<li>rate-limiting (default 10,000)</li>
<li>timeout (default 30 sec)</li>
<li>maximum number of failed queries allowed before being disabled (default 200)</li>
</ul>

<p><img src="/images/configuration.png" alt="Configuration"></p>

<p>Through these setup options the behavior of sources can be fine-tuned, but the default settings should almost always work. The default rate-limiting settings should only be increased if your application has been whitelisted with that source.</p>

<p>Some sources (currently <em>PubMed Central Usage Stats</em> and <em>CrossRef</em>) also have publisher-specific settings. You need to add at least one publisher via the web interface and associate your account with a publisher. You then see an additional configuration tab <strong>Publisher</strong> configuration.</p>

<h2 id="toc_2">Adding Articles</h2>

<p>Articles can be added in one of several ways:</p>

<ul>
<li>admin dashboard (admin user)</li>
<li>command line rake task</li>
<li>API</li>
<li>CrossRef API</li>
</ul>

<p>Adding or changing works via the admin dashboard is mainly for testing purposes, or to fix errors in the title or publication date of specific works.</p>

<h3 id="toc_3">Command line rake task</h3>

<p>We can use a rake command line task to automate the import of a large number of works. The import file (e.g. IMPORT.TXT) is a text file with one work per line, and the required fields DOI, publication date and title separated by a space:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">DOI Date<span class="o">(</span>YYYY-MM-DD<span class="o">)</span> Title
</code></pre></div>
<p>The date can also be incomplete, i.e. <code>YYYY-MMM</code> or <code>YYYY</code>. The rake taks loads all these works at once, ignoring (but counting) invalid ones and those that already exist in the database:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">bin/rake db:works:load &lt;IMPORT.TXT
</code></pre></div>
<p>In a production environment this rake task (like all other rake tasks used in production) has to be slightly modified to:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">bin/rake db:works:load &lt;IMPORT.TXT <span class="nv">RAILS_ENV</span><span class="o">=</span>production
</code></pre></div>
<p>The rake task splits on white space for the first two elements, and then takes the rest of the line (title) as one element including any whitespace in the title.</p>

<p>Most users will automate the importing of works via a cron job, and will integrate the rake task into a larger workflow.</p>

<h3 id="toc_4">API</h3>

<p>Articles can also be added (and updated or deleted) via the v4 <a href="/docs/api">API</a>. The v4 API uses basic authentication and is only available to admin and staff users. A sample curl API call to create a new work would look like this:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">curl -X POST -H <span class="s2">&quot;Content-Type: application/json&quot;</span> -u USERNAME:PASSWORD -d <span class="s1">&#39;{&quot;work&quot;:{&quot;doi&quot;:&quot;10.1371/journal.pone.0036790&quot;,&quot;published_on&quot;:&quot;2012-05-15&quot;,&quot;title&quot;:&quot;Test title&quot;}}&#39;</span> http://HOST/api/v4/works
</code></pre></div>
<p>The DOI, publication date and title are again all required fields, but you can also include other fields such as the Pubmed ID. See the <a href="/docs/api">API</a> page for more information, e.g. how to update or delete works.</p>

<h3 id="toc_5">CrossRef API</h3>

<p>This is the preferred option. You need so set the configuration option <code>IMPORT</code> in <code>.env</code> to either <code>member</code>, <code>member_sample</code>, <code>crossref</code> or <code>sample</code>. <code>member</code> imports all works from the publishers added in the admin interface, <code>member_sample</code> imports a random subset with 20 works for that publisher.</p>

<h2 id="toc_6">Starting Workers</h2>

<p>Lagotto talks to external data sources to collect metrics about a set of works. Metrics are added by calling external APIs in the background, using the <a href="https://github.com/mperham/sidekiq">sidekiq</a> queuing system and Rails ActiveJob framework. The results are stored in CouchDB. This can be done in one of two ways:</p>

<h3 id="toc_7">Ad-hoc workers</h3>

<p>To collect metrics once for a set of works, or for testing purposes the workers can be run ad-hoc using the <code>bundle exec sidekiq</code> command.</p>

<p>You then have to decide what works you want updated. This can be either a specific DOI, all works, all works for a list of specified sources, or all works published in a specific time interval. Issue one of the following commands (and include <code>RAILS_ENV=production</code> in production mode):</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">bin/rake queue:one<span class="o">[</span>10.1371/journal.pone.0036790<span class="o">]</span>
bin/rake queue:all
bin/rake queue:all<span class="o">[</span>pubmed,mendeley<span class="o">]</span>
bin/rake queue:all <span class="nv">START_DATE</span><span class="o">=</span>2013-02-01 <span class="nv">END_DATE</span><span class="o">=</span>2014-02-08
bin/rake queue:all<span class="o">[</span>pubmed,mendeley<span class="o">]</span> <span class="nv">START_DATE</span><span class="o">=</span>2013-02-01 <span class="nv">END_DATE</span><span class="o">=</span>2014-02-08
</code></pre></div>
<p>You can then start the workers with:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">bundle <span class="nb">exec </span>sidekiq
</code></pre></div>
<h3 id="toc_8">Background workers</h3>

<p>In a continously updating production system we want to run Sidekiq in the background with the above command. You can monitor the Sidekiq status in the admin dashboard (<code>/status</code>).</p>

<p>When we have to update the metrics for a work (determined by the staleness interval), a job is added to the background queue for that source. Sidekiq will then process this job in the background. By default Sidekiq runs 25 processes in parallel.</p>

<h3 id="toc_9">List of background jobs that Lagotto uses</h3>

<p>We have the following background queues sorted by decreasing priority:</p>

<ul>
<li><strong>critical</strong></li>
<li><strong>high</strong></li>
<li><strong>default</strong></li>
<li><strong>low</strong></li>
<li><strong>mailers</strong></li>
</ul>

<p>Jobs for sources go into the <code>default</code> queue, unless the source was configured to use the <code>high</code> or <code>low</code> queue.</p>

<h2 id="toc_10">Configuring Maintenance Tasks</h2>

<p>Lagotto uses a number of maintenance tasks in production mode - they are not necessary for a development instance.</p>

<p>Many of the maintenance taks are <code>rake</code> tasks, and they are listed on a <a href="/docs/rake">separate page</a>. All rake tasks are issued from the application root folder. You want to prepend your rake command with <code>bundle exec</code> and <code>RAILS_ENV=production</code> should be appended to the rake command when running in production, e.g.</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">bin/rake db:works:load &lt;IMPORT.TXT <span class="nv">RAILS_ENV</span><span class="o">=</span>production
</code></pre></div>
<h3 id="toc_11">Cron jobs</h3>

<p>Lagotto uses the <a href="https://github.com/javan/whenever">Whenever</a> gem to make it easy to generate cron jobs. The configuration is stored in <code>config/schedule.rb</code>:</p>
<div class="highlight"><pre><code class="ruby language-ruby" data-lang="ruby"><span class="n">env</span> <span class="ss">:PATH</span><span class="p">,</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;PATH&#39;</span><span class="o">]</span>
<span class="n">env</span> <span class="ss">:DOTENV</span><span class="p">,</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;DOTENV&#39;</span><span class="o">]</span>
<span class="n">set</span> <span class="ss">:environment</span><span class="p">,</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;RAILS_ENV&#39;</span><span class="o">]</span>
<span class="n">set</span> <span class="ss">:output</span><span class="p">,</span> <span class="s2">&quot;log/cron.log&quot;</span>

<span class="c1"># Schedule jobs</span>
<span class="c1"># Send report when workers are not running</span>
<span class="c1"># Create alerts by filtering API responses and mail them</span>
<span class="c1"># Delete resolved alerts</span>
<span class="c1"># Delete API request information, keeping the last 1,000 requests</span>
<span class="c1"># Delete API response information, keeping responses from the last 24 hours</span>
<span class="c1"># Generate a monthly report</span>

<span class="c1"># every hour at 10 min past the hour</span>
<span class="n">every</span> <span class="s2">&quot;10 * * * *&quot;</span> <span class="k">do</span>
  <span class="n">rake</span> <span class="s2">&quot;cron:hourly&quot;</span>
<span class="k">end</span>

<span class="n">every</span> <span class="mi">1</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="ss">at</span><span class="p">:</span> <span class="s2">&quot;1:20 AM&quot;</span> <span class="k">do</span>
  <span class="n">rake</span> <span class="s2">&quot;cron:daily&quot;</span>
<span class="k">end</span>

<span class="n">every</span> <span class="s2">&quot;20 11,16 * * *&quot;</span> <span class="k">do</span>
  <span class="n">rake</span> <span class="s2">&quot;cron:import&quot;</span><span class="p">,</span> <span class="ss">:output</span> <span class="o">=&gt;</span> <span class="s2">&quot;log/cron_import.log&quot;</span>
<span class="k">end</span>

<span class="n">every</span> <span class="ss">:monday</span><span class="p">,</span> <span class="ss">at</span><span class="p">:</span> <span class="s2">&quot;1:40 AM&quot;</span> <span class="k">do</span>
  <span class="n">rake</span> <span class="s2">&quot;cron:weekly&quot;</span>
<span class="k">end</span>

<span class="c1"># every 10th of the month at 2:10 AM</span>
<span class="n">every</span> <span class="s2">&quot;50 2 10 * *&quot;</span> <span class="k">do</span>
  <span class="n">rake</span> <span class="s2">&quot;cron:monthly&quot;</span>
<span class="k">end</span>
</code></pre></div>
<p>You can display this information in cron format by:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">bundle <span class="nb">exec </span>whenever
</code></pre></div>
<p>To write this information to your crontab file, use</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">bundle <span class="nb">exec </span>whenever --update-crontab lagotto
</code></pre></div>
<p>The crontab is automatically updated when you run capistrano (see <a href="/docs/installation">Installation</a>).</p>

<h3 id="toc_12">Filters</h3>

<p>Filters check all API responses of the last 24 hours for errors and potential anti-gaming activity, and they are typically run as cron job. They can be activated and configured (e.g. to set limits) individually in the admin panel:</p>

<p><img src="/images/filters.png" alt="Filters"></p>

<p>These filters will generate alerts that are displayed in the admin panel in various places. More information is available on the <a href="/docs/Alerts">Alerts</a> page.</p>

<h3 id="toc_13">Reports</h3>

<p>Lagotto generates a number of email reports:</p>

<p><img src="/images/profile.png" alt="Profile"></p>

<p>The <strong>Work Statistics Report</strong> is available to all users, all other reports only to admin and staff users. Users can sign up for these reports in the account preferences.</p>

<p>Lagotto installs the <strong>Postfix</strong> mailer and the default settings should work in most cases. Mail can otherwise me configure in the <code>.env</code> file:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">MAIL_ADDRESS=localhost
MAIL_PORT=25
MAIL_DOMAIN=localhost
</code></pre></div>
<p>The reports are generated via the cron jobs mentioned above. Make sure you have correct write permissions for the Work Statistics Report, it is recommended to run the rake task at least once to test for this:</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">bin/rake report:all_stats <span class="nv">RAILS_ENV</span><span class="o">=</span>production
</code></pre></div>
<p>This rake task generates the monthly report file and this file is then available for download from the <a href="https://zenodo.org/">Zenodo</a> data repository. Make sure the <code>ZENODO_API_KEY</code>, <code>SITENAMELONG</code> and <code>CREATOR</code> ENV variables are set correctly. Users who have signed up for this report will be notified by email when the report has been generated.</p>

<h3 id="toc_14">Snapshotting the API</h3>

<p>Lagotto provides the capability to snapshot its API at a given point in time. This makes it possible to download the full data-set from one or more API end-points which can be useful for loading the data into a different system for analysis.</p>

<p>By default, Lagotto will create a snapshot of an end-point, zip it up, and upload it to <a href="http://zenodo.org">Zenodo</a>.</p>

<h4 id="toc_15">Available end-points</h4>

<p>To see what end-points are available for snapshotting run the following rake command:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">bin/rake -T api:snapshot
</code></pre></div>
<h4 id="toc_16">Creating Snapshots</h4>

<p>You can create snapshots by running the below rake tasks:</p>

<ul>
<li><code>bin/rake api:snapshot:events</code> - snapshot just the events API</li>
<li><code>bin/rake api:snapshot:references</code> - snapshot just the references API</li>
<li><code>bin/rake api:snapshot:works</code> - snapshot just the works API</li>
<li><code>bin/rake api:snapshot:all</code> - snapshot all three of the API end-points above</li>
</ul>

<h4 id="toc_17">Environment Requirements</h4>

<p>This requires <a href="https://zenodo.org/dev">Zenodo integration</a> and expects the following environment variables to be configured:</p>

<ul>
<li>SERVERNAME: this is used to determine what host to snapshot.</li>
<li>ZENODO_KEY: used in posting the zip file to Zenodo</li>
<li>ZENODO_URL: used in posting the zip file to Zenodo</li>
<li>APPLICATION: used in posting the zip file to Zenodo</li>
<li>CREATOR: used in posting the zip file to Zenodo</li>
<li>SITENAMELONG: used in posting the zip file to Zenodo</li>
<li>GITHUB_URL: used in posting the zip file to Zenodo</li>
</ul>

<p>Also, you must be running Sidekiq (bin/rake sidekiq:start) in order for the APIs to be snapshotted as the work is done in the background.</p>

<p><em>Note: you can register a test Zenodo account using <a href="https://sandbox.zenodo.org">https://sandbox.zenodo.org</a> before integrating with their production environment. Just update the ZENODO</em>URL and ZENODO_KEY environment variables accordingly._</p>

<h4 id="toc_18">Optional environment variables</h4>

<p>The below environment variables can be set to test creating snapshots. It is useful for manual testing and exploration:</p>

<ul>
<li>START_PAGE: the page number to start on. The default is nil so it will start on the root page.</li>
<li>STOP_PAGE: the page number to stop crawling on (even if there are more pages). The default is nil so it will stop only when there are no more pages to crawl.</li>
<li>PAGES_PER_JOB: the number of pages to process per <code>ApiSnapshotJob</code>. The default is 10.</li>
<li>BENCHMARK: set if you want to benchmark how long each requests takes. This will create a file in the same location as the jsondump file and will append the suffix <code>.benchmark</code>. E.g. <code>api_works.jsondump.benchmark</code></li>
<li>FILENAME_EXT - this is the filename extension to be used to dump the file. The default is <code>jsondump</code>.</li>
<li>SNAPSHOT_DIR: the directory to store snapshots in. The default is <code>LAGOTTO_ROOT/tmp/snapshots/snapshot_YYYY-MM-DD</code>.</li>
</ul>

<p>An easy way to test this locally is to run the following:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"># Make sure sidekiq is running fresh code
bin/rake sidekiq:stop &amp;&amp; bin/rake sidekiq:start

# Queue up our snapshots and benchmark them
STOP_PAGE=2 BENCHMARK=1 bin/rake api:snapshot:all
</code></pre></div>


            <!-- COinS metadata (for citation managers like Zotero etc), goes in body text -->
<span
  class="Z3988"
  title="ctx_ver=Z39.88-2004
  &amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc
  &amp;rfr_id=info%3Asid%2Focoins.info%3Agenerator
  &amp;rft.title=Setup
  &amp;rft.creator=
  &amp;rft.date=
  &amp;rft.language=EN
  &amp;rft.rights=CC0
  &amp;rft_id=http://lagotto.io/docs/setup/">
</span>

            
            <hr>
            <footer class="footer" role="contentinfo">
  <iframe src="http://ghbtns.com/github-btn.html?user=lagotto&repo=lagotto&type=watch&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>

  <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=lagotto&repo=lagotto&type=fork&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>

  <p>Maintained by the core team with the help of our <a href="/docs/contributors">contributors</a>.<br/>
  Source code for <a href="https://github.com/lagotto/lagotto">Lagotto application</a> and <a href="https://github.com/lagotto/lagotto.github.io">this website</a> available on Github. <br/> Code licensed under <a href="https://github.com/lagotto/alm/blob/master/LICENSE.md">MIT</a>, documentation under <a href="http://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a>.</p>
</div>

          </div>
        </div>


      </div>
    </div> <!-- /container -->

    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', '']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  </body>
</html>