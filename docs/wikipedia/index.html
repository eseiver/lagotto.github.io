<p>Wikipedia is a free encyclopedia that everyone can edit.</p>

<p>We are collecting the number of Wikipedia articles (<code>namespace=0</code>) in the <a href="https://meta.wikimedia.org/wiki/List_of_Wikipedias#All_Wikipedias_ordered_by_number_of_articles">25 most popular wikipedias</a> and Wikimedia Commons (<code>namespace=6</code>):</p>
<div class="highlight"><pre><code class="sh language-sh" data-lang="sh">en nl de sv fr it ru es pl war ceb ja vi pt zh uk ca no <span class="k">fi </span>fa id cs ko hu ar commons
</code></pre></div>
<p>We would for example use <code>en.wikipedia.org</code> as <code>HOST</code> in the <code>API URL</code> below.</p>

<p>Because of the extensive load-balancing on Wikipedia&#39;s servers, pagination (for more than 50 results) is not reliable and we therefore don&#39;t collect links to individual Wikipedia pages. We are not counting the number of hits in the user or file namespaces.</p>

<table width=100% border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td valign="top" width=30%><strong>ALM Name</strong></td>
<td valign="top" width=70%>wikipedia</td>
</tr>
<tr>
<td valign="top" width=20%><strong>ALM Configuration</strong></td>
<td valign="top" width=80%>job_batch_size: 100</td>
</tr>
<tr>
<td valign="top" width=20%><strong>ALM Core Attributes</strong></td>
<td valign="top" width=80%>url</td>
</tr>
<td valign="top" width=20%><strong>ALM Other Attributes</strong></td>
<td valign="top" width=80%>language<br/>namespace</td>
</tr>
<tr>
<td valign="top" width=30%><strong>Protocol</strong></td>
<td valign="top" width=70%>REST</td>
</tr>
<tr>
<td valign="top" width=30%><strong>Format</strong></td>
<td valign="top" width=70%>JSON</td>
</tr>
<tr>
<td valign="top" width=20%><strong>Rate-limiting</strong></td>
<td valign="top" width=80%>unknown</td>
</tr>
<tr>
<td valign="top" width=20%><strong>Authentication</strong></td>
<td valign="top" width=80%>no</td>
</tr>
<tr>
<td valign="top" width=20%><strong>Restriction by IP Address</strong></td>
<td valign="top" width=80%>no</td>
</tr>
<tr>
<td valign="top" width=20%><strong>API URL</strong></td>
<td valign="top" width=80%>http://HOST/w/api.php?action=query&list=search&format=json&srsearch=\"DOI\"+OR+\"URL\"&srnamespace=NAMESPACE&srwhat=text&srinfo=totalhits&srprop=timestamp&srlimit=1</td>
</tr>
</tbody>
</table>

<h2 id="toc_0">Example Response</h2>
<div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;query-continue&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;search&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;sroffset&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;query&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;searchinfo&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;totalhits&quot;</span><span class="p">:</span> <span class="mi">685</span>
    <span class="p">},</span>
    <span class="nt">&quot;search&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;ns&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Calliotropis tiara&quot;</span><span class="p">,</span>
        <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2013-04-14T14:52:39Z&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="toc_1">Source Code</h2>

<p>The source code is available <a href="https://github.com/articlemetrics/lagotto/blob/master/app/models/sources/wikipedia.rb">here</a>.</p>

<h2 id="toc_2">Further Documentation</h2>

<ul>
<li><a href="http://www.mediawiki.org/wiki/API:Main_page">Mediawiki API Documentation</a></li>
</ul>
